<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Helper_thread (async_unix.Async_unix.In_thread.Helper_thread)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">async_unix</a> &#x00BB; <a href="../../index.html">Async_unix</a> &#x00BB; <a href="../index.html">In_thread</a> &#x00BB; Helper_thread</nav><header><h1>Module <code>In_thread.Helper_thread</code></h1></header><div class="content"><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></div><div><p>A Helper_thread is a thread that is dedicated to handling computations external to Async. We need them because some libraries (e.g. Sqlite3) require that certain collections of computations run in the same thread.</p></div></div><div><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;priority:<a href="../Priority/index.html#type-t">Priority.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_kernel.Deferred.t</a></span></code></div><div><p><code>create ?name ()</code> creates a new helper thread. The <code>name</code> will be used as the thread name for any work that that is done by the thread that doesn't get its own name.</p><p><code>create</code> uses a thread from Async's thread pool, reserving that thread for exclusive use by the helper thread until the helper thread is no longer used (specifically, finalized and is finished with all its work), at which point the thread is made available for general use by the pool.</p><p><code>create</code> returns a deferred that becomes determined when a helper thread is available. On the other hand, <code>create_now</code> checks if a helper thread is available now, and if so returns it, or else returns <code>Error</code>.</p></div></div><div class="spec value" id="val-create_now" class="anchored"><a href="#val-create_now" class="anchor"></a><code><span class="keyword">val</span> create_now : <span>?&#8288;priority:<a href="../Priority/index.html#type-t">Priority.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a></span></code></div></div></body></html>