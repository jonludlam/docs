<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core_kernel__Bus (core_kernel.Core_kernel__Bus)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">core_kernel</a> &#x00BB; Core_kernel__Bus</nav><header><h1>Module <code>Core_kernel__Bus</code></h1><p>A <code>Bus</code> is a publisher/subscriber system within the memory space of the program. A bus has a mutable set of subscribers, which can be modified using <code>subscribe_exn</code> and <code>unsubscribe</code>.</p><p><code>create</code> returns a <code>Bus.Read_write.t</code>, which you can use to <code>write</code> values to the bus. <code>write</code> calls the callbacks of all current subscribers before returning.</p><p>In a <code>('callback, 'phantom) Bus.t</code>, <code>'phantom</code> is a read-write phantom type that controls whether one can read values from or write values to the bus. The phantom type states the capabilities one could ever have access to, not the capabilities that are immediately available. In particular, if one wants to subscribe to a <code>Bus.Read_write.t</code>, one must call <code>read_only</code> on it in order to get a <code>Bus.Read_only.t</code> that can be passed to <code>subscribe_exn</code>. This is deliberate, and is meant to avoid unintentional reads from code that should only be writing.</p></header><div class="content"></div></body></html>