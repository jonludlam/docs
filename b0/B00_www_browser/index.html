<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>B00_www_browser (b0.B00_www_browser)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../index.html">b0</a> &#x00BB; B00_www_browser</nav><header><h1>Module <code>B00_www_browser</code></h1><p>Web browser interaction.</p><p><code>Browser</code> shows URIs in the user's browsers. Up to severe platform and browser application limitations it tries to limit the creation of new tabs, reloading existing one which have the same URI or are, if requested, prefixed by the URI.</p></header><nav class="toc"><ul><li><a href="#env">Environment variables</a></li><li><a href="#show">Show URIs</a></li><li><a href="#cli">Cli interaction</a></li></ul></nav><div class="content"><h2 id="env"><a href="#env" class="anchor"></a>Environment variables</h2><div><div class="spec module" id="module-Env" class="anchored"><a href="#module-Env" class="anchor"></a><code><span class="keyword">module</span> <a href="Env/index.html">Env</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><p>Environment variables.</p></div></div><h2 id="show"><a href="#show" class="anchor"></a>Show URIs</h2><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></div><div><p>The type for specifying a browser.</p></div></div><div><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <span>?&#8288;search:<span><a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>browser:<span><a href="../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> option</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<span><a href="index.html#type-t">t</a> option</span>, string)</span> <a href="../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>find ~search ~browser</code> tries to find a browser in a rather complex and platform dependent way.</p></div></div><div><div class="spec value" id="val-show" class="anchored"><a href="#val-show" class="anchor"></a><code><span class="keyword">val</span> show : <span>background:bool</span> <span>&#45;&gt;</span> <span>prefix:bool</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>show ~background ~prefix browser uri</code> shows URI using browser <code>browser</code> (if <code>None</code> an error message is returned mentioning that no browser was found. If <code>background</code> is <code>true</code> tries to keep the browser application in the background, if <code>false</code> brings it in user focus.</p><p>The function tries to limit the creation of new tabs using the following strategy:</p><ul><li><p>Repeat from the frontmost browser window to the backmost one until a tab to reload is found:</p><ol><li>If the window's current tab's URI is <code>uri</code> (or is prefixed by <code>uri</code> when <code>prefix</code> is <code>true</code>), reload this tab.</li><li>If the window has one or more tab whose URI is <code>uri</code> (or is prefixed by <code>uri</code> when <code>prefix</code> is <code>true</code>), pick the left most one, make it current in the window and reload it.</li></ol></li><li>If no tab was found, get the frontmost window. If the current tab has no URI, use that tab with <code>uri</code> otherwise create a new tab with <code>uri</code> and make it current for the window.</li></ul></div></div><h2 id="cli"><a href="#cli" class="anchor"></a>Cli interaction</h2><div><div class="spec value" id="val-browser" class="anchored"><a href="#val-browser" class="anchor"></a><code><span class="keyword">val</span> browser : <span>?&#8288;docs:string</span> <span>&#45;&gt;</span> <span>?&#8288;opts:<span>string list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span><a href="../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> option</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div><p><code>browser</code> is an option and <code>BROWSER</code> environment variable to use with the <code>browser</code> argument of <a href="index.html#val-find"><code>find</code></a>. <code>opts</code> are the cli options and default to <code>[&quot;browser&quot;]</code>.</p></div></div><div><div class="spec value" id="val-prefix" class="anchored"><a href="#val-prefix" class="anchor"></a><code><span class="keyword">val</span> prefix : <span>?&#8288;docs:string</span> <span>&#45;&gt;</span> <span>?&#8288;opts:<span>string list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span>bool <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div><p><code>prefix</code> is option to use the with <code>prefix</code> argument of <a href="index.html#val-show"><code>show</code></a>. <code>opts</code> are the cli options and default to <code>[&quot;prefix&quot;]</code>.</p></div></div><div><div class="spec value" id="val-background" class="anchored"><a href="#val-background" class="anchor"></a><code><span class="keyword">val</span> background : <span>?&#8288;docs:string</span> <span>&#45;&gt;</span> <span>?&#8288;opts:<span>string list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span>bool <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div><p><code>background</code> is an option to use with the <code>background</code> argument of <code>!show</code>. <code>opts</code> are the cli options and default to <code>[&quot;background&quot;]</code></p></div></div></div></body></html>