<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Compile (b0.B00_ocaml.Compile)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">b0</a> &#x00BB; <a href="../index.html">B00_ocaml</a> &#x00BB; Compile</nav><header><h1>Module <code>B00_ocaml.Compile</code></h1><p>OCaml and C stub compilation.</p></header><nav class="toc"><ul><li><a href="#step">Compilation steps</a></li></ul></nav><div class="content"><h2 id="step"><a href="#step" class="anchor"></a>Compilation steps</h2><div><div class="spec value" id="val-c_to_o" class="anchored"><a href="#val-c_to_o" class="anchor"></a><code><span class="keyword">val</span> c_to_o : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>hs:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>c:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>c_to_obj m ~hs ~c ~o</code> compiles <code>c</code> to the object file <code>o</code> using assuming <code>c</code> includes headers <code>hs</code>.</p></div></div><div><div class="spec value" id="val-mli_to_cmi" class="anchored"><a href="#val-mli_to_cmi" class="anchor"></a><code><span class="keyword">val</span> mli_to_cmi : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;with_cmti:bool</span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>reads:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>mli:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>mli_to_cmi m ~args ~with_cmti m ~reads ~mli ~o</code> compiles <code>mli</code> to <code>o</code>. <code>reads</code> are the cmi files reads by the operation. <code>with_cmti</code> indicates whether the cmti file should be produced (defaults to <code>true</code>). <code>args</code> are additional arguments that will be added on the cli.</p></div></div><div><div class="spec value" id="val-ml_to_cmo" class="anchored"><a href="#val-ml_to_cmo" class="anchor"></a><code><span class="keyword">val</span> ml_to_cmo : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;with_cmt:bool</span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>has_cmi:bool</span> <span>&#45;&gt;</span> <span>reads:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>ml:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>ml_to_cmo m ~args ~with_cmt ~has_cmi ~reads ~ml ~o</code> compiles <code>ml</code> file to a the cmo file <code>o</code>. <code>reads</code> are the cmi files read by the operation. <code>has_cmi</code> indicates whether the <code>ml</code> file has already a corresponding cmi file, in which case it should be in <code>cmi_deps</code>. <code>with_cmt</code> indicates whether the cmt file should be produced (defaults to <code>true</code>).</p></div></div><div><div class="spec value" id="val-ml_to_cmx" class="anchored"><a href="#val-ml_to_cmx" class="anchor"></a><code><span class="keyword">val</span> ml_to_cmx : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;with_cmt:bool</span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>has_cmi:bool</span> <span>&#45;&gt;</span> <span>reads:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>ml:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>ml_to_cmx m ~args ~with_cmt ~has_cmi ~reads ~ml ~o</code> compiles <code>ml</code> file to a the cmx file <code>o</code>. <code>reads</code> are are the cmx and cmi files read by the operation. <code>has_cmi</code> indicates whether the <code>ml</code> file has already a corresponding cmi file, in which case it should be in <code>cmi_deps</code>. <code>with_cmt</code> indicates whether the cmt file should be produced (defaults to <code>true</code>).</p></div></div><div><div class="spec value" id="val-ml_to_impl" class="anchored"><a href="#val-ml_to_impl" class="anchor"></a><code><span class="keyword">val</span> ml_to_impl : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;with_cmt:bool</span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>code:<a href="../Cobj/index.html#type-code">Cobj.code</a></span> <span>&#45;&gt;</span> <span>has_cmi:bool</span> <span>&#45;&gt;</span> <span>reads:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>ml:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>ml_to_impl</code> is <a href="index.html#val-ml_to_cmo"><code>ml_to_cmo</code></a> or <a href="index.html#val-ml_to_cmx"><code>ml_to_cmx</code></a> according to <code>code</code>.</p></div></div><div><div class="spec value" id="val-cstubs_archives" class="anchored"><a href="#val-cstubs_archives" class="anchor"></a><code><span class="keyword">val</span> cstubs_archives : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>c_objs:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>odir:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>oname:string</span> <span>&#45;&gt;</span> unit</code></div><div><p><code>cstubs_archives m ~args ~c_objs ~odir ~oname</code> creates in directory <code>odir</code> C stubs archives for a library named <code>oname</code>.</p></div></div><div><div class="spec value" id="val-byte_archive" class="anchored"><a href="#val-byte_archive" class="anchor"></a><code><span class="keyword">val</span> byte_archive : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>has_cstubs:bool</span> <span>&#45;&gt;</span> <span>cobjs:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>odir:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>oname:string</span> <span>&#45;&gt;</span> unit</code></div><div><p><code>byte_archive m ~args ~has_cstubs ~cobjs ~obase</code> creates in directory <code>odir</code> a bytecode archive named <code>oname</code> with the OCaml bytecode compilation objects <code>cobjs</code>.</p></div></div><div><div class="spec value" id="val-native_archive" class="anchored"><a href="#val-native_archive" class="anchor"></a><code><span class="keyword">val</span> native_archive : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>has_cstubs:bool</span> <span>&#45;&gt;</span> <span>cobjs:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>odir:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>oname:string</span> <span>&#45;&gt;</span> unit</code></div><div><p><code>native_archive m ~args ~has_cstubs ~cobjs ~obase</code> creates in directory <code>odir</code> a native code archive named <code>oname</code> with the OCaml native code compilation objects <code>cobjs</code>.</p></div></div><div><div class="spec value" id="val-archive" class="anchored"><a href="#val-archive" class="anchor"></a><code><span class="keyword">val</span> archive : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>code:<a href="../Cobj/index.html#type-code">Cobj.code</a></span> <span>&#45;&gt;</span> <span>has_cstubs:bool</span> <span>&#45;&gt;</span> <span>cobjs:<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span></span> <span>&#45;&gt;</span> <span>odir:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>oname:string</span> <span>&#45;&gt;</span> unit</code></div><div><p><code>archive</code> is <a href="index.html#val-byte_archive"><code>byte_archive</code></a> or <a href="index.html#val-native_archive"><code>native_archive</code></a> according to <code>code</code>.</p></div></div><div class="spec value" id="val-native_dynlink_archive" class="anchored"><a href="#val-native_dynlink_archive" class="anchor"></a><code><span class="keyword">val</span> native_dynlink_archive : <span>?&#8288;post_exec:<span>(<a href="../../B000/Op/index.html#type-t">B000.Op.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;k:<span>(int <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> <span>?&#8288;args:<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a></span> <span>&#45;&gt;</span> <a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span>&#45;&gt;</span> <span>has_cstubs:bool</span> <span>&#45;&gt;</span> <span>cmxa:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span> <span>&#45;&gt;</span> unit</code></div></div></body></html>