<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tool (b0.B00.Tool)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">b0</a> &#x00BB; <a href="../index.html">B00</a> &#x00BB; Tool</nav><header><h1>Module <code>B00.Tool</code></h1><p>Command line tools.</p><p>A tool is specified either by name, to be looked up via an unspecified mecanism, or by a file path to an executable file. It declares the environment variables it accesses in the process environment and whether and how it supports response files.</p><p>By default declared environment variables are assumed to influence the tool's output and are part of the stamp used to memoize tool spawns. If an environment variable is accessed by the tool but does not influence its output it should be declared as unstamped. Variables specifying the location of <span class="xref-unresolved">temporary file directories</span> are good examples of unstamped variables.</p><p><b>Portability.</b> In order to maximize portability no <code>.exe</code> suffix should be added to executable names on Windows, the search procedure will add the suffix during the tool search procedure if absent.</p></header><nav class="toc"><ul><li><a href="#env">Environment variables</a></li><li><a href="#resp">Response files</a></li><li><a href="#tools">Tools</a></li></ul></nav><div class="content"><h2 id="env"><a href="#env" class="anchor"></a>Environment variables</h2><div><div class="spec type" id="type-env_vars" class="anchored"><a href="#type-env_vars" class="anchor"></a><code><span class="keyword">type</span> env_vars = <span>string list</span></code></div><div><p>The type for lists of environment variable names.</p></div></div><div><div class="spec value" id="val-tmp_vars" class="anchored"><a href="#val-tmp_vars" class="anchor"></a><code><span class="keyword">val</span> tmp_vars : <a href="index.html#type-env_vars">env_vars</a></code></div><div><p><code>tmp_vars</code> is <code>[&quot;TMPDIR&quot;; &quot;TEMP&quot;; &quot;TMP&quot;]</code>.</p></div></div><h2 id="resp"><a href="#resp" class="anchor"></a>Response files</h2><div><div class="spec type" id="type-response_file" class="anchored"><a href="#type-response_file" class="anchor"></a><code><span class="keyword">type</span> response_file</code></div><div><p>The type for response file specification.</p></div></div><div><div class="spec value" id="val-response_file_of" class="anchored"><a href="#val-response_file_of" class="anchor"></a><code><span class="keyword">val</span> response_file_of : <span>(<a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span>(<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span>&#45;&gt;</span> <a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-response_file">response_file</a></code></div><div><p><code>response_file_of to_file cli</code> is a response file specification that uses <code>to_file cmd</code> to convert the command line <code>cmd</code> to a response file content and <code>cli f</code> a command line fragment to be given to the tool so that it treats file <code>f</code> as a response file.</p></div></div><div><div class="spec value" id="val-args0" class="anchored"><a href="#val-args0" class="anchor"></a><code><span class="keyword">val</span> args0 : <a href="index.html#type-response_file">response_file</a></code></div><div><p><code>args0</code> is response file support for tools that reads null byte (<code>0x00</code>) terminated arguments response files via an <code>-args0
      FILE</code> command line synopsis.</p></div></div><h2 id="tools"><a href="#tools" class="anchor"></a>Tools</h2><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></div><div><p>The type for tools.</p></div></div><div><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <span>?&#8288;response_file:<a href="index.html#type-response_file">response_file</a></span> <span>&#45;&gt;</span> <span>?&#8288;unstamped_vars:<a href="index.html#type-env_vars">env_vars</a></span> <span>&#45;&gt;</span> <span>?&#8288;vars:<a href="index.html#type-env_vars">env_vars</a></span> <span>&#45;&gt;</span> <a href="../../B00_std/Cmd/index.html#type-tool">B00_std.Cmd.tool</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></div><div><p><code>v ~response_file ~unstamped_vars ~vars cmd</code> is a tool specified by <code>cmd</code>. <code>vars</code> are the stamped variables accessed by the tool (defaults to <code>[]</code>). <code>unstamped_vars</code> are the unstamped variables accessed by the tool (defaults to <a href="index.html#val-tmp_vars"><code>tmp_vars</code></a>). <code>response_file</code> defines the reponse file support for the tool (if any).</p></div></div><div><div class="spec value" id="val-by_name" class="anchored"><a href="#val-by_name" class="anchor"></a><code><span class="keyword">val</span> by_name : <span>?&#8288;response_file:<a href="index.html#type-response_file">response_file</a></span> <span>&#45;&gt;</span> <span>?&#8288;unstamped_vars:<a href="index.html#type-env_vars">env_vars</a></span> <span>&#45;&gt;</span> <span>?&#8288;vars:<a href="index.html#type-env_vars">env_vars</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></div><div><p><code>by_name</code> is like <a href="index.html#val-v"><code>v</code></a> but reference the tool directly via a name.</p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>B00_std</code>.Fpath.is_seg <code>name</code> is <code>false</code>.</p></dd></dl></div></div><div><div class="spec value" id="val-name" class="anchored"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../B00_std/Cmd/index.html#type-tool">B00_std.Cmd.tool</a></code></div><div><p><code>name t</code> is <code>t</code>'s tool name. If this is a relative file path with a single segment the tool is meant to be searched via an external mecanism.</p></div></div><div><div class="spec value" id="val-vars" class="anchored"><a href="#val-vars" class="anchor"></a><code><span class="keyword">val</span> vars : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-env_vars">env_vars</a></code></div><div><p><code>vars t</code> are the stamped environment variables accessed by <code>t</code>.</p></div></div><div><div class="spec value" id="val-unstamped_vars" class="anchored"><a href="#val-unstamped_vars" class="anchor"></a><code><span class="keyword">val</span> unstamped_vars : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-env_vars">env_vars</a></code></div><div><p><code>unstamped_vars t</code> are the unstamped environment variables accessed by <code>t</code>.</p></div></div><div><div class="spec value" id="val-response_file" class="anchored"><a href="#val-response_file" class="anchor"></a><code><span class="keyword">val</span> response_file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-response_file">response_file</a> option</span></code></div><div><p><code>response_file t</code> is <code>t</code>'s response file specification (if any).</p></div></div><div><div class="spec value" id="val-read_env" class="anchored"><a href="#val-read_env" class="anchor"></a><code><span class="keyword">val</span> read_env : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a> <span>&#45;&gt;</span> <a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a> * <a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a></code></div><div><p><code>read_env t env</code> is (all, stamped) with <code>all</code> the environment with the variables of <code>env</code> that are in <code>vars t</code> and <code>unstamped_vars t</code> and <code>stamped</code> those of <code>vars t</code> only.</p></div></div></div></body></html>