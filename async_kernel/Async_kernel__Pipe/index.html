<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Async_kernel__Pipe (async_kernel.Async_kernel__Pipe)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">async_kernel</a> &#x00BB; Async_kernel__Pipe</nav><header><h1>Module <code>Async_kernel__Pipe</code></h1><p>A buffered FIFO communication channel.</p><p>A pipe has a &quot;writer&quot; end and a &quot;reader&quot; end. The intent is that a writer feeds values into the pipe and then waits until it is notified that it should put more data in (referred to as &quot;pushback&quot;).</p><p>Each pipe contains a buffer that is a queue of values that have been written to the pipe but not yet read from the pipe. The length of the queue is not bounded; whenever the pipe is written to, values are immediately enqueued. However, writers are supposed to respect pushback from readers, either via the <code>unit Deferred.t</code> returned by <code>write</code> calls or by explicitly calling <code>pushback</code>.</p><p>If a pipe is empty, then readers queue up, waiting for values to be written. As soon as values are written, if a reader is available to consume them, the values will be handed to the reader.</p><p>One can use <code>downstream_flushed</code> to get notified by a pipe when all prior writes have been consumed by a reader.</p><p>There are distinct <code>Reader</code> and <code>Writer</code> modules and types, but all of the operations on readers and writers are available directly from the <code>Pipe</code> module.</p></header><div class="content"></div></body></html>