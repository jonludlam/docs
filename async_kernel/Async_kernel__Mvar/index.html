<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Async_kernel__Mvar (async_kernel.Async_kernel__Mvar)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">async_kernel</a> &#x00BB; Async_kernel__Mvar</nav><header><h1>Module <code>Async_kernel__Mvar</code></h1><p>An <code>Mvar</code> is a mutable location that is either empty or contains a value. One can <code>put</code> or <code>set</code> the value, and wait on <code>value_available</code> for the location to be filled in either way.</p><p>Having an <code>Mvar.Read_write.t</code> gives the capability to mutate the mvar.</p><p>The key difference between an <code>Mvar</code> and an <a href="../Async_kernel/Ivar/index.html"><code>Ivar</code></a> is that an <code>Mvar</code> may be filled multiple times.</p><p>This implementation of <code>Mvar</code> also allows one to replace the value without any guarantee that the reading side has seen it. This is useful in situations where last-value semantics are desired (e.g., you want to signal whenever a config file is updated, but only care about the most recent contents).</p><p>An <code>Mvar</code> can also be used as a baton-passing mechanism between a producer and consumer. For instance, a producer reading from a socket and producing a set of deserialized messages can <code>put</code> the batch from a single read into an <code>Mvar</code> and can wait for <code>taken</code> to return as a pushback mechanism. The consumer meanwhile waits on <code>value_available</code>. This way the natural batch size is passed between the two sub-systems with minimal overhead.</p></header><div class="content"></div></body></html>