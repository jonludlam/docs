<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Async_kernel__Deferred_or_error (async_kernel.Async_kernel__Deferred_or_error)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">async_kernel</a> &#x00BB; Async_kernel__Deferred_or_error</nav><header><h1>Module <code>Async_kernel__Deferred_or_error</code></h1><p>The deferred analog of <code>Core.Or_error</code>. It is exposed in std.ml as <code>Deferred.Or_error</code>.</p><p>The mental model for a function returning an <code>'a Deferred.Or_error.t</code> is that the function never raises. All error cases are caught and expressed as an <code>Error _</code> result. This module preserves that property.</p><p>Unfortunately, there is no way to enforce this property using the type system, so it is more like a convention, or idiom. A function whose type ends with <code>... -&gt; 'a
    Deferred.Or_error.t</code> and still raises should be considered broken, and be fixed. With that property in mind, <code>Deferred.Or_error.List.iter</code>, for example, does not wrap the execution of the given iter function <code>f</code> inside a monitor. If one of these application raises, the whole function <code>Deferred.Or_error.List.iter</code> will raise as a way to try to alert the developer that the function is broken and needs attention and fixing, rather than silently catching the error and converting it to <code>Or_error.Error</code>.</p><p>This behavior is consistent with <code>Core.Or_error</code>'s treatment of user-supplied functions.</p><p>If you have to deal with a function that does not respect this idiom, you can use <code>Deferred.Or_error.try_with_join</code> to wrap its execution and enforce this property.</p></header><div class="content"></div></body></html>