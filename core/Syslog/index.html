<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Syslog (core.Syslog)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../index.html">core</a> &#x00BB; Syslog</nav><header><h1>Module <code>Syslog</code></h1><p>Send log messages via the Unix Syslog interface.</p><p>Syslog is great for system daemons that log free-form human readable status messages or other debugging output, but not so great for archiving structured data. Access to read Syslog's messages may also be restricted. <code>syslogd</code>'s logs are also not necessarily kept forever. For application level logging consider <code>Core_extended</code>.Std.Logger instead.</p></header><nav class="toc"><ul><li><a href="#logging-functions">Logging functions</a></li></ul></nav><div class="content"><div class="spec module" id="module-Open_option" class="anchored"><a href="#module-Open_option" class="anchor"></a><code><span class="keyword">module</span> <a href="Open_option/index.html">Open_option</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><div class="spec module" id="module-Facility" class="anchored"><a href="#module-Facility" class="anchor"></a><code><span class="keyword">module</span> <a href="Facility/index.html">Facility</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><p>Types of messages</p></div></div><div class="spec module" id="module-Level" class="anchored"><a href="#module-Level" class="anchor"></a><code><span class="keyword">module</span> <a href="Level/index.html">Level</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><div class="spec value" id="val-setlogmask" class="anchored"><a href="#val-setlogmask" class="anchor"></a><code><span class="keyword">val</span> setlogmask : <span>?&#8288;allowed_levels:<span><a href="Level/index.html#type-t">Level.t</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;from_level:<a href="Level/index.html#type-t">Level.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;to_level:<a href="Level/index.html#type-t">Level.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></div><div><p>All levels in <code>allowed_levels</code> will be allowed, and additionally all ranging from <code>from_level</code> to <code>to_level</code> (inclusive).</p></div></div><h3 id="logging-functions"><a href="#logging-functions" class="anchor"></a>Logging functions</h3><div><div class="spec value" id="val-openlog" class="anchored"><a href="#val-openlog" class="anchor"></a><code><span class="keyword">val</span> openlog : <span>?&#8288;id:string</span> <span>&#45;&gt;</span> <span>?&#8288;options:<span><a href="Open_option/index.html#type-t">Open_option.t</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;facility:<a href="Facility/index.html#type-t">Facility.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></div><div><p><code>openlog ~id ~options ~facility ()</code> opens a connection to the system logger (possibly delayed) using prefixed identifier <code>id</code>, <code>options</code>, and <code>facility</code>.</p><p>WARNING: this function leaks the <code>id</code> argument, if provided. There is no way around that if syslog is called in a multi-threaded environment! Therefore it shouldn't be called too often. What for, anyway?</p><p>Calling <code>openlog</code> before <code>syslog</code> is optional. If you forget, syslog will do it for you with the defaults.</p></div></div><div><div class="spec value" id="val-syslog" class="anchored"><a href="#val-syslog" class="anchor"></a><code><span class="keyword">val</span> syslog : <span>?&#8288;facility:<a href="Facility/index.html#type-t">Facility.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;level:<a href="Level/index.html#type-t">Level.t</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></div><div><p><code>syslog ~facility ~level message</code> logs <code>message</code> using syslog with <code>facility</code> at <code>level</code>.</p></div></div><div><div class="spec value" id="val-syslogf" class="anchored"><a href="#val-syslogf" class="anchor"></a><code><span class="keyword">val</span> syslogf : <span>?&#8288;facility:<a href="Facility/index.html#type-t">Facility.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;level:<a href="Level/index.html#type-t">Level.t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, unit, string, string, string, unit)</span> <a href="../../ocaml/CamlinternalFormatBasics/index.html#type-format6">CamlinternalFormatBasics.format6</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></div><div><p><code>syslog_printf</code> acts like <code>syslog</code>, but allows <code>printf</code>-style specification of the message.</p></div></div><div><div class="spec value" id="val-closelog" class="anchored"><a href="#val-closelog" class="anchor"></a><code><span class="keyword">val</span> closelog : unit <span>&#45;&gt;</span> unit</code></div><div><p><code>closelog ()</code> closes the connection to the <code>syslog</code> daemon.</p></div></div></div></body></html>