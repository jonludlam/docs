<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Nocrypto_entropy_unix (nocrypto.Nocrypto_entropy_unix)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">nocrypto</a> &#x00BB; Nocrypto_entropy_unix</nav><header><h1>Module <code>Nocrypto_entropy_unix</code></h1><p><b>RNG</b> seeding on <b>Unix</b>.</p><p>This module provides one-shot RNG seeding from the Unix kernel RNG, typically </p><pre><code>/dev/urandom</code></pre><p>.</p><p>Calling <span class="xref-unresolved">initialize</span> is enough to bring the RNG into a working state.</p><p><code>initialize</code> is idempotent as long as the default generator is unchanged. It is harmless to call it several times.</p><p>If you are using <b>lwt</b>, conside using <a href="../Nocrypto_entropy_lwt/index.html"><code>Nocrypto_entropy_lwt</code></a> as this module allows for continuous reseeding.</p><p>Unless you want to recover from an unlikely case of missing system RNG, the recommended way to prime the RNG is to invoke <code>initialize</code> at the module level:</p><pre><code>let () = Nocrypto_entropy_unix.initialize () </code></pre></header><nav class="toc"><ul><li><a href="#default-generator-initialization">Default generator initialization</a></li><li><a href="#manual-seeding">Manual seeding</a></li></ul></nav><div class="content"><h2 id="default-generator-initialization"><a href="#default-generator-initialization" class="anchor"></a>Default generator initialization</h2><div><div class="spec value" id="val-initialize" class="anchored"><a href="#val-initialize" class="anchor"></a><code><span class="keyword">val</span> initialize : unit <span>&#45;&gt;</span> unit</code></div><div><p>Seeds the current defalt generator from the system RNG device if it is currently unseeded.</p><p>This is the closest thing to <code>Random</code>.self_init and is a good way to prime the RNG.</p></div></div><h2 id="manual-seeding"><a href="#manual-seeding" class="anchor"></a>Manual seeding</h2><div><div class="spec value" id="val-sys_rng" class="anchored"><a href="#val-sys_rng" class="anchor"></a><code><span class="keyword">val</span> sys_rng : string</code></div><div><p>Detected system RNG device.</p></div></div><div><div class="spec value" id="val-reseed" class="anchored"><a href="#val-reseed" class="anchor"></a><code><span class="keyword">val</span> reseed : <span>?&#8288;bytes:int</span> <span>&#45;&gt;</span> <span>?&#8288;device:string</span> <span>&#45;&gt;</span> <a href="../Nocrypto/Rng/index.html#type-g">Nocrypto.Rng.g</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>reseed ~bytes ~g</code> mixes in <code>bytes</code> bytes from the system RNG into the generator <code>g</code>.</p><p><code>bytes</code> default to a small value reasonable for periodic reseeding.</p><p><code>device</code> defaults to <a href="index.html#val-sys_rng">sys_rng</a>.</p></div></div></div></body></html>