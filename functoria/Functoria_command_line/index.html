<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Functoria_command_line (functoria.Functoria_command_line)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">functoria</a> &#x00BB; Functoria_command_line</nav><header><h1>Module <code>Functoria_command_line</code></h1><p>Functions for reading various options from a command line.</p></header><div class="content"><div class="spec value" id="val-setup_log" class="anchored"><a href="#val-setup_log" class="anchor"></a><code><span class="keyword">val</span> setup_log : <span>unit <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div class="spec value" id="val-config_file" class="anchored"><a href="#val-config_file" class="anchor"></a><code><span class="keyword">val</span> config_file : <span>(<a href="../../fpath/Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>unit <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div class="spec value" id="val-build_dir" class="anchored"><a href="#val-build_dir" class="anchor"></a><code><span class="keyword">val</span> build_dir : <span>(<a href="../../fpath/Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>unit <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div class="spec value" id="val-output" class="anchored"><a href="#val-output" class="anchor"></a><code><span class="keyword">val</span> output : <span><span>string option</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></code></div><div><div class="spec value" id="val-read_full_eval" class="anchored"><a href="#val-read_full_eval" class="anchor"></a><code><span class="keyword">val</span> read_full_eval : <span>string array</span> <span>&#45;&gt;</span> <span>bool option</span></code></div><div><p><code>read_full_eval argv</code> reads the --eval option from <code>argv</code>; the return value is <code>None</code> if option is absent in <code>argv</code>.</p></div></div><div><div class="spec type" id="type-configure_args" class="anchored"><a href="#type-configure_args" class="anchor"></a><code><span class="keyword">type</span> <span>'a configure_args</span> = {</code><table><tr id="type-configure_args.result" class="anchored"><td class="def record field"><a href="#type-configure_args.result" class="anchor"></a><code>result : <span class="type-var">'a</span>;</code></td></tr><tr id="type-configure_args.output" class="anchored"><td class="def record field"><a href="#type-configure_args.output" class="anchor"></a><code>output : <span>string option</span>;</code></td></tr></table><code>}</code></div><div><p>A value of type <code>configure_args</code> is the result of parsing the arguments of a <code>configure</code> subcommand.</p></div></div><div><div class="spec type" id="type-describe_args" class="anchored"><a href="#type-describe_args" class="anchor"></a><code><span class="keyword">type</span> <span>'a describe_args</span> = {</code><table><tr id="type-describe_args.result" class="anchored"><td class="def record field"><a href="#type-describe_args.result" class="anchor"></a><code>result : <span class="type-var">'a</span>;</code></td></tr><tr id="type-describe_args.dotcmd" class="anchored"><td class="def record field"><a href="#type-describe_args.dotcmd" class="anchor"></a><code>dotcmd : string;</code></td></tr><tr id="type-describe_args.dot" class="anchored"><td class="def record field"><a href="#type-describe_args.dot" class="anchor"></a><code>dot : bool;</code></td></tr><tr id="type-describe_args.output" class="anchored"><td class="def record field"><a href="#type-describe_args.output" class="anchor"></a><code>output : <span>string option</span>;</code></td></tr></table><code>}</code></div><div><p>A value of type <code>describe_args</code> is the result of parsing the arguments to a <code>describe</code> subcommand.</p><p>The <code>result</code> field holds the result of parsing the &quot;additional&quot; arguments whose specification is passed as the <code>describe</code> argument to <a href="index.html#val-parse_args"><code>parse_args</code></a>.</p></div></div><div class="spec type" id="type-action" class="anchored"><a href="#type-action" class="anchor"></a><code><span class="keyword">type</span> <span>'a action</span> = </code><table><tr id="type-action.Configure" class="anchored"><td class="def variant constructor"><a href="#type-action.Configure" class="anchor"></a><code>| <span class="constructor">Configure</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> <a href="index.html#type-configure_args">configure_args</a></span></code></td></tr><tr id="type-action.Describe" class="anchored"><td class="def variant constructor"><a href="#type-action.Describe" class="anchor"></a><code>| <span class="constructor">Describe</span> <span class="keyword">of</span> <span><span class="type-var">'a</span> <a href="index.html#type-describe_args">describe_args</a></span></code></td></tr><tr id="type-action.Build" class="anchored"><td class="def variant constructor"><a href="#type-action.Build" class="anchor"></a><code>| <span class="constructor">Build</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-action.Clean" class="anchored"><td class="def variant constructor"><a href="#type-action.Clean" class="anchor"></a><code>| <span class="constructor">Clean</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-action.Help" class="anchored"><td class="def variant constructor"><a href="#type-action.Help" class="anchor"></a><code>| <span class="constructor">Help</span></code></td><td class="doc"><p>A value of type <code>action</code> is the result of parsing command-line arguments using <code>parse_args</code>.</p></td></tr></table></div><div><div class="spec value" id="val-pp_action" class="anchored"><a href="#val-pp_action" class="anchor"></a><code><span class="keyword">val</span> pp_action : <span><span class="type-var">'a</span> <a href="../../fmt/Fmt/index.html#type-t">Fmt.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-action">action</a></span> <a href="../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></code></div><div><p><code>pp_action</code> is the pretty-printer for actions.</p></div></div><div><div class="spec value" id="val-parse_args" class="anchored"><a href="#val-parse_args" class="anchor"></a><code><span class="keyword">val</span> parse_args : <span>?&#8288;help_ppf:<a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a></span> <span>&#45;&gt;</span> <span>?&#8288;err_ppf:<a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a></span> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span>version:string</span> <span>&#45;&gt;</span> <span>configure:<span><span class="type-var">'a</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span> <span>&#45;&gt;</span> <span>describe:<span><span class="type-var">'a</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span> <span>&#45;&gt;</span> <span>build:<span><span class="type-var">'a</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span> <span>&#45;&gt;</span> <span>clean:<span><span class="type-var">'a</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span> <span>&#45;&gt;</span> <span>help:<span><span class="type-var">_</span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span> <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-action">action</a></span> <a href="../../cmdliner/Cmdliner/Term/index.html#type-result">Cmdliner.Term.result</a></span></code></div><div><p>Parse the functoria command line. The arguments to <code>~configure</code>, <code>~describe</code>, etc., describe extra command-line arguments that should be accepted by the corresponding subcommands. The full argument specification is as follows:</p><p>name configure <code>-v|--verbose</code> <code>--color=(auto|always|never)</code> <code>extra arguments</code> name describe <code>--eval</code> <code>-v|--verbose</code> <code>--color=(auto|always|never)</code> <code>-o FILE | --output=FILE</code> <code>--dot-command=COMMAND</code> <code>--dot</code> <code>extra arguments</code> name build <code>-v|--verbose</code> <code>--color=(auto|always|never)</code> <code>extra arguments</code> name clean <code>-v|--verbose</code> <code>--color=(auto|always|never)</code> <code>extra arguments</code> name help <code>-v|--verbose</code> <code>--color=(auto|always|never)</code> <code>--man-format=(groff|pager|plain)</code> <code>configure|describe|build|clean|help|topics</code> <code>extra arguments</code> name <code>-v|--verbose</code> <code>--color=(auto|always|never)</code></p><p>There are no side effects, save for the printing of usage messages and other help when either the 'help' subcommand or no subcommand is specified.</p></div></div></div></body></html>