<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Buffer (git.Git.Buffer)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">git</a> &#x00BB; <a href="../index.html">Git</a> &#x00BB; Buffer</nav><header><h1>Module <code>Git.Buffer</code></h1><p>An implementation of the <a href="index.html"><code>Buffer</code></a> module but with <a href="../../../cstruct/Cstruct/index.html#type-t"><code>Cstruct.t</code></a>.</p></header><div class="content"><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></div><div><p>The abstract type of buffers.</p></div></div><div><div class="spec type" id="type-raw" class="anchored"><a href="#type-raw" class="anchor"></a><code><span class="keyword">type</span> raw = string</code></div><div><p>The type of result.</p></div></div><div><div class="spec type" id="type-fixe" class="anchored"><a href="#type-fixe" class="anchor"></a><code><span class="keyword">type</span> fixe = <a href="../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a></code></div><div><p>The type of input.</p></div></div><div><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></div><div><p><code>create n</code> returns a fresh buffer, initially empty. The <code>n</code> parameter is the initial size of the internal byte sequence that holds the buffer contents. That byte sequence is automatically reallocated when more than <code>n</code> bytes are stored in the buffer, but shrinks back to <code>n</code> bytes when <code>reset</code> is called.</p><p>For best performance, <code>n</code> should be of the same order of magnitude as the number of characters that are expected to be stored in the buffer. Nothing bad will happen if the buffer grows beyond that limit, however.</p></div></div><div><div class="spec value" id="val-contents" class="anchored"><a href="#val-contents" class="anchor"></a><code><span class="keyword">val</span> contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-raw">raw</a></code></div><div><p>Return a copy of the current contents of the buffer. The buffer itself is unchanged.</p></div></div><div class="spec value" id="val-unsafe_contents" class="anchored"><a href="#val-unsafe_contents" class="anchor"></a><code><span class="keyword">val</span> unsafe_contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-fixe">fixe</a></code></div><div class="spec value" id="val-has" class="anchored"><a href="#val-has" class="anchor"></a><code><span class="keyword">val</span> has : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></div><div><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-fixe">fixe</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>add fixe buffer</code> appends the fixed-size buffer <code>fixe</code> at the end of the buffer <code>buffer</code>.</p></div></div><div><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></div><div><p>Empty the buffer.</p></div></div><div><div class="spec value" id="val-reset" class="anchored"><a href="#val-reset" class="anchor"></a><code><span class="keyword">val</span> reset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></div><div><p>Empty the buffer and <i>de-allocate</i> the internal byte sequence internal byte sequence of length <code>n</code> that was allocated by <a href="index.html#val-create"><code>Buffer.create</code></a> <code>n</code>. For long-lived buffers that may have grown a lot, <code>reset</code> allows faster reclamation of the space used by the buffer.</p></div></div></div></body></html>