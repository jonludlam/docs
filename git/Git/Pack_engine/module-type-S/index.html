<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (git.Git.Pack_engine.S)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">git</a> &#x00BB; <a href="../../index.html">Git</a> &#x00BB; <a href="../index.html">Pack_engine</a> &#x00BB; S</nav><header><h1>Module type <code>Pack_engine.S</code></h1></header><div class="content"><div class="spec module" id="module-Hash" class="anchored"><a href="#module-Hash" class="anchor"></a><code><span class="keyword">module</span> <a href="Hash/index.html">Hash</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Inflate" class="anchored"><a href="#module-Inflate" class="anchor"></a><code><span class="keyword">module</span> <a href="Inflate/index.html">Inflate</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Deflate" class="anchored"><a href="#module-Deflate" class="anchor"></a><code><span class="keyword">module</span> <a href="Deflate/index.html">Deflate</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-FS" class="anchored"><a href="#module-FS" class="anchor"></a><code><span class="keyword">module</span> <a href="FS/index.html">FS</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-HDec" class="anchored"><a href="#module-HDec" class="anchor"></a><code><span class="keyword">module</span> <a href="HDec/index.html">HDec</a> : <a href="../../Unpack/module-type-H/index.html">Unpack.H</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-H/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a></code></div><div class="spec module" id="module-PDec" class="anchored"><a href="#module-PDec" class="anchor"></a><code><span class="keyword">module</span> <a href="PDec/index.html">PDec</a> : <a href="../../Unpack/module-type-P/index.html">Unpack.P</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-P/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-P/Inflate/index.html">Inflate</a> := <a href="Inflate/index.html">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-P/Hunk/index.html">Hunk</a> := <a href="HDec/index.html">HDec</a></code></div><div class="spec module" id="module-RPDec" class="anchored"><a href="#module-RPDec" class="anchor"></a><code><span class="keyword">module</span> <a href="RPDec/index.html">RPDec</a> : <a href="../../Unpack/module-type-D/index.html">Unpack.D</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-D/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-D/Inflate/index.html">Inflate</a> := <a href="Inflate/index.html">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-D/Hunk/index.html">Hunk</a> := <a href="HDec/index.html">HDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-D/Pack/index.html">Pack</a> := <a href="PDec/index.html">PDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Unpack/module-type-D/Mapper/index.html">Mapper</a> := <a href="FS/Mapper/index.html">FS.Mapper</a></code></div><div class="spec module" id="module-PEnc" class="anchored"><a href="#module-PEnc" class="anchor"></a><code><span class="keyword">module</span> <a href="PEnc/index.html">PEnc</a> : <a href="../../Pack/module-type-P/index.html">Pack.P</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Pack/module-type-P/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Pack/module-type-P/Deflate/index.html">Deflate</a> := <a href="Deflate/index.html">Deflate</a></code></div><div class="spec module" id="module-IDec" class="anchored"><a href="#module-IDec" class="anchor"></a><code><span class="keyword">module</span> <a href="IDec/index.html">IDec</a> : <a href="../../Index_pack/module-type-LAZY/index.html">Index_pack.LAZY</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Index_pack/module-type-LAZY/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a></code></div><div class="spec module" id="module-IEnc" class="anchored"><a href="#module-IEnc" class="anchor"></a><code><span class="keyword">module</span> <a href="IEnc/index.html">IEnc</a> : <a href="../../Index_pack/module-type-ENCODER/index.html">Index_pack.ENCODER</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Index_pack/module-type-ENCODER/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a></code></div><div class="spec module" id="module-PInfo" class="anchored"><a href="#module-PInfo" class="anchor"></a><code><span class="keyword">module</span> <a href="PInfo/index.html">PInfo</a> : <a href="../../Pack_info/module-type-S/index.html">Pack_info.S</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Pack_info/module-type-S/Hash/index.html">Hash</a> := <a href="Hash/index.html">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Pack_info/module-type-S/Inflate/index.html">Inflate</a> := <a href="Inflate/index.html">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Pack_info/module-type-S/HDec/index.html">HDec</a> := <a href="HDec/index.html">HDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Pack_info/module-type-S/PDec/index.html">PDec</a> := <a href="PDec/index.html">PDec</a></code></div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></div><div class="spec type" id="type-r" class="anchored"><a href="#type-r" class="anchor"></a><code><span class="keyword">type</span> <span>('mmu, 'location) r</span> = {</code><table><tr id="type-r.mmu" class="anchored"><td class="def record field"><a href="#type-r.mmu" class="anchor"></a><code>mmu : <span class="type-var">'mmu</span>;</code></td></tr><tr id="type-r.with_cstruct" class="anchored"><td class="def record field"><a href="#type-r.with_cstruct" class="anchor"></a><code>with_cstruct : <span class="type-var">'mmu</span> <span>&#45;&gt;</span> <a href="index.html#type-pack">pack</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>(<span>(<span class="type-var">'location</span> * <a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>)</span> <span>&#45;&gt;</span> <span>unit <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span> <span>&#45;&gt;</span> <span>unit <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>;</code></td></tr><tr id="type-r.free" class="anchored"><td class="def record field"><a href="#type-r.free" class="anchor"></a><code>free : <span class="type-var">'mmu</span> <span>&#45;&gt;</span> <span class="type-var">'location</span> <span>&#45;&gt;</span> <span>unit <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>;</code></td></tr></table><code>}</code></div><div class="spec type" id="type-pack" class="anchored"><a href="#type-pack" class="anchor"></a><code><span class="keyword">and</span> pack = </code><table><tr id="type-pack.Pack" class="anchored"><td class="def variant constructor"><a href="#type-pack.Pack" class="anchor"></a><code>| <span class="constructor">Pack</span> <span class="keyword">of</span> <a href="Hash/index.html#type-t">Hash.t</a></code></td></tr><tr id="type-pack.Unrecorded" class="anchored"><td class="def variant constructor"><a href="#type-pack.Unrecorded" class="anchor"></a><code>| <span class="constructor">Unrecorded</span></code></td></tr></table></div><div class="spec type" id="type-error" class="anchored"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error = [ </code><table><tr id="type-error.Pack_decoder" class="anchored"><td class="def constructor"><a href="#type-error.Pack_decoder" class="anchor"></a><code>| </code><code>`Pack_decoder <span class="keyword">of</span> <a href="RPDec/index.html#type-error">RPDec.error</a></code></td></tr><tr id="type-error.Pack_encoder" class="anchored"><td class="def constructor"><a href="#type-error.Pack_encoder" class="anchor"></a><code>| </code><code>`Pack_encoder <span class="keyword">of</span> <a href="PEnc/index.html#type-error">PEnc.error</a></code></td></tr><tr id="type-error.Pack_info" class="anchored"><td class="def constructor"><a href="#type-error.Pack_info" class="anchor"></a><code>| </code><code>`Pack_info <span class="keyword">of</span> <a href="PInfo/index.html#type-error">PInfo.error</a></code></td></tr><tr id="type-error.Idx_decoder" class="anchored"><td class="def constructor"><a href="#type-error.Idx_decoder" class="anchor"></a><code>| </code><code>`Idx_decoder <span class="keyword">of</span> <a href="IDec/index.html#type-error">IDec.error</a></code></td></tr><tr id="type-error.Idx_encoder" class="anchored"><td class="def constructor"><a href="#type-error.Idx_encoder" class="anchor"></a><code>| </code><code>`Idx_encoder <span class="keyword">of</span> <a href="IEnc/index.html#type-error">IEnc.error</a></code></td></tr><tr id="type-error.Error.FS.t" class="anchored"><td class="def type"><a href="#type-error.Error.FS.t" class="anchor"></a><code>| </code><code><span><a href="FS/index.html#type-error">FS.error</a> <a href="../../Error/FS/index.html#type-t">Error.FS.t</a></span></code></td></tr><tr id="type-error.Error.Inf.t" class="anchored"><td class="def type"><a href="#type-error.Error.Inf.t" class="anchor"></a><code>| </code><code><span><a href="Inflate/index.html#type-error">Inflate.error</a> <a href="../../Error/Inf/index.html#type-t">Error.Inf.t</a></span></code></td></tr><tr id="type-error.Error.Decoder.t" class="anchored"><td class="def type"><a href="#type-error.Error.Decoder.t" class="anchor"></a><code>| </code><code><a href="../../Error/Decoder/index.html#type-t">Error.Decoder.t</a></code></td></tr><tr id="type-error.Invalid_hash" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_hash" class="anchor"></a><code>| </code><code>`Invalid_hash <span class="keyword">of</span> <a href="Hash/index.html#type-t">Hash.t</a></code></td></tr><tr id="type-error.Delta" class="anchored"><td class="def constructor"><a href="#type-error.Delta" class="anchor"></a><code>| </code><code>`Delta <span class="keyword">of</span> <a href="PEnc/Delta/index.html#type-error">PEnc.Delta.error</a></code></td></tr><tr id="type-error.Not_found" class="anchored"><td class="def constructor"><a href="#type-error.Not_found" class="anchor"></a><code>| </code><code>`Not_found</code></td></tr></table><code> ]</code></div><div class="spec value" id="val-pp_error" class="anchored"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : <span><a href="index.html#type-error">error</a> <a href="../../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></code></div><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span><a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div><div class="spec value" id="val-lookup" class="anchored"><a href="#val-lookup" class="anchor"></a><code><span class="keyword">val</span> lookup : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span>(<a href="Hash/index.html#type-t">Hash.t</a> * <span>(<a href="../../../../checkseum/Checkseum/Crc32/index.html#type-t">Checkseum.Crc32.t</a> * int64)</span>)</span> option</span></code></div><div class="spec value" id="val-list" class="anchored"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="Hash/index.html#type-t">Hash.t</a> list</span></code></div><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> bool</code></div><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <span>root:<a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>temp_dir:<a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * <a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>)</span> option</span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:<a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a></span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'mmu</span>,Â <span class="type-var">'location</span>)</span> <a href="index.html#type-r">r</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>[ <span>`Normalized of <a href="PInfo/index.html#type-path">PInfo.path</a></span> ]</span> <a href="PInfo/index.html#type-t">PInfo.t</a></span> <span>&#45;&gt;</span> <span><span><span>(<a href="Hash/index.html#type-t">Hash.t</a> * int,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div><div class="spec value" id="val-read" class="anchored"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : <span>root:<a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>temp_dir:<a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * <a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>)</span> option</span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span></span> <span>&#45;&gt;</span> <span>to_result:<span>(<span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * <a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a> * int * <a href="RPDec/Ascendant/index.html#type-s">RPDec.Ascendant.s</a>)</span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'value</span>,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:<a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a></span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'mmu</span>,Â <span class="type-var">'location</span>)</span> <a href="index.html#type-r">r</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'value</span>,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div><div class="spec value" id="val-size" class="anchored"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <span>root:<a href="../../../../fpath/Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * <a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>)</span> option</span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:<a href="../../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a></span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Hash/index.html#type-t">Hash.t</a> <span>&#45;&gt;</span> <span><span><span>(int,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span> <a href="../../../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div></div></body></html>