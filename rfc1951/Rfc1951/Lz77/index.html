<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lz77 (rfc1951.Rfc1951.Lz77)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">rfc1951</a> &#x00BB; <a href="../index.html">Rfc1951</a> &#x00BB; Lz77</nav><header><h1>Module <code>Rfc1951.Lz77</code></h1><p>Lz77 algorithm.</p><p>A functionnal non-blocking implementation of Lz77 algorithm. This algorithm produces a <code>Hunk.t list</code> of an input.</p><p>This algorithm is the same as <a href="blosclz">https://github.com/Blosc/c-blosc</a>. So the implementation is an imperative hack in OCaml. May be it's not the best in the functionnal world but it works. The interface was thinked to be replaced by your implemenation by a functor.</p></header><div class="content"><div><div class="spec type" id="type-error" class="anchored"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error = </code><table><tr id="type-error.Invalid_level" class="anchored"><td class="def variant constructor"><a href="#type-error.Invalid_level" class="anchor"></a><code>| <span class="constructor">Invalid_level</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>This error appears when you try to compute the Lz77 algorithm with a wrong level (<code>level &gt;= 0 &amp;&amp; level &lt;= 9</code>).</p></td></tr><tr id="type-error.Invalid_wbits" class="anchored"><td class="def variant constructor"><a href="#type-error.Invalid_wbits" class="anchor"></a><code>| <span class="constructor">Invalid_wbits</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>This error appears when you specify a bad wbits: <code>wbits &gt;= 8 &amp;&amp; wbits &lt;= 15</code></p></td></tr></table></div><div><p>Lz77 error.</p></div></div><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'i t</span></code></div><div><p>The state of the Lz77 algorithm.</p></div></div><div><div class="spec value" id="val-pp_error" class="anchored"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : <a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> unit</code></div><div><p>Pretty-printer of Lz77 error.</p></div></div><div><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p>Pretty-printer of Lz77 state.</p></div></div><div><div class="spec value" id="val-used_in" class="anchored"><a href="#val-used_in" class="anchor"></a><code><span class="keyword">val</span> used_in : <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></div><div><p><code>used_in t</code> returns <code>n</code> bytes(s) used by the algorithm in the current input.</p></div></div><div><div class="spec value" id="val-default" class="anchored"><a href="#val-default" class="anchor"></a><code><span class="keyword">val</span> default : <span>witness:<span><span class="type-var">'i</span> <a href="../Buffer/index.html#type-t">Buffer.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;level:int</span> <span>&#45;&gt;</span> <span>?&#8288;on:<span>(<a href="../Hunk/index.html#type-t">Hunk.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span></code></div><div><p><code>default ~witness ~level ~on wbits</code> produces a new state to compute the Lz77 algorithm in an input. <code>level</code> means the level of the compression (between 0 and 9), <code>on</code> is a function called when the algorithm produce one <code>Hunk.t</code> and <code>wbits</code> is the window size allowed.</p><p>Usually, <code>wbits = 15</code> for a window of 32K. If <code>wbits</code> is lower, you constraint the distance of a <code>Match</code> produced by the Lz77 algorithm to the window size.</p><p><code>on</code> is a function to interact fastly with your data-structure and keep frequencies of <code>Literal</code> and <code>Match</code>.</p></div></div></div></body></html>